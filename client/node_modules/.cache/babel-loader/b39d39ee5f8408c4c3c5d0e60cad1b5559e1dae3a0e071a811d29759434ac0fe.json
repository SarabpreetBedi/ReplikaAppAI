{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useParams,useNavigate}from'react-router-dom';import styled from'styled-components';import{motion,AnimatePresence}from'framer-motion';import{FiSend,FiPlus,FiMessageCircle,FiUser,FiSmartphone}from'react-icons/fi';import io from'socket.io-client';import axios from'axios';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatContainer=styled.div`\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n`;const ChatHeader=styled.div`\n  padding: 20px 30px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: rgba(255, 255, 255, 0.9);\n`;const HeaderTitle=styled.h2`\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: #333;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n`;const NewChatButton=styled(motion.button)`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px 20px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\n  }\n`;const MessagesContainer=styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px 30px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;const Message=styled(motion.div)`\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  max-width: 80%;\n  align-self: ${props=>props.sender==='user'?'flex-end':'flex-start'};\n`;const MessageAvatar=styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.2rem;\n  color: white;\n  background: ${props=>props.sender==='user'?'linear-gradient(135deg, #667eea 0%, #764ba2 100%)':'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'};\n  flex-shrink: 0;\n`;const MessageContent=styled.div`\n  background: ${props=>props.sender==='user'?'linear-gradient(135deg, #667eea 0%, #764ba2 100%)':'rgba(255, 255, 255, 0.9)'};\n  color: ${props=>props.sender==='user'?'white':'#333'};\n  padding: 15px 20px;\n  border-radius: 18px;\n  border-bottom-right-radius: ${props=>props.sender==='user'?'5px':'18px'};\n  border-bottom-left-radius: ${props=>props.sender==='user'?'18px':'5px'};\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n  line-height: 1.5;\n  word-wrap: break-word;\n  max-width: 100%;\n`;const MessageTime=styled.div`\n  font-size: 0.8rem;\n  color: #666;\n  margin-top: 5px;\n  text-align: ${props=>props.sender==='user'?'right':'left'};\n`;const InputContainer=styled.div`\n  padding: 20px 30px;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  background: rgba(255, 255, 255, 0.9);\n`;const InputForm=styled.form`\n  display: flex;\n  gap: 15px;\n  align-items: flex-end;\n`;const MessageInput=styled.textarea`\n  flex: 1;\n  padding: 15px 20px;\n  border: 2px solid #e1e5e9;\n  border-radius: 25px;\n  font-size: 1rem;\n  resize: none;\n  min-height: 50px;\n  max-height: 120px;\n  font-family: inherit;\n  transition: all 0.3s ease;\n  background: #f8f9fa;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    background: white;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  }\n`;const SendButton=styled(motion.button)`\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 1.2rem;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;const TypingIndicator=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 15px 20px;\n  color: #666;\n  font-style: italic;\n`;const TypingDots=styled.div`\n  display: flex;\n  gap: 4px;\n`;const Dot=styled.div`\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #667eea;\n  animation: typing 1.4s infinite ease-in-out;\n\n  &:nth-child(1) { animation-delay: -0.32s; }\n  &:nth-child(2) { animation-delay: -0.16s; }\n  &:nth-child(3) { animation-delay: 0s; }\n\n  @keyframes typing {\n    0%, 80%, 100% {\n      transform: scale(0.8);\n      opacity: 0.5;\n    }\n    40% {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n`;const WelcomeMessage=styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #666;\n`;const WelcomeTitle=styled.h3`\n  font-size: 1.5rem;\n  margin-bottom: 10px;\n  color: #333;\n`;const WelcomeText=styled.p`\n  font-size: 1.1rem;\n  line-height: 1.6;\n  max-width: 500px;\n  margin: 0 auto;\n`;function Chat(_ref){let{user}=_ref;const{conversationId}=useParams();const navigate=useNavigate();const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState('');const[loading,setLoading]=useState(false);const[typing,setTyping]=useState(false);const[socket,setSocket]=useState(null);const messagesEndRef=useRef(null);const inputRef=useRef(null);useEffect(()=>{// Initialize socket connection\nconst newSocket=io('http://localhost:5000');setSocket(newSocket);if(conversationId){newSocket.emit('join-conversation',conversationId);fetchMessages();}newSocket.on('new-message',message=>{setMessages(prev=>[...prev,message]);setTyping(false);});newSocket.on('error',error=>{toast.error(error.error);});return()=>newSocket.close();},[conversationId]);useEffect(()=>{scrollToBottom();},[messages]);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};const fetchMessages=async()=>{try{const response=await axios.get(`/api/messages/${conversationId}`);setMessages(response.data);}catch(error){console.error('Error fetching messages:',error);toast.error('Failed to load messages');}};const createNewConversation=async()=>{try{const response=await axios.post('/api/conversations',{userId:user.userId,title:'New Conversation'});navigate(`/chat/${response.data.conversationId}`);}catch(error){console.error('Error creating conversation:',error);toast.error('Failed to create conversation');}};const handleSubmit=async e=>{e.preventDefault();if(!newMessage.trim()||loading)return;const messageText=newMessage.trim();setNewMessage('');setLoading(true);setTyping(true);if(!conversationId){// Create new conversation\ntry{const response=await axios.post('/api/conversations',{userId:user.userId,title:messageText.substring(0,50)+'...'});navigate(`/chat/${response.data.conversationId}`);// Send message after navigation\nsetTimeout(()=>{socket.emit('send-message',{message:messageText,conversationId:response.data.conversationId,userId:user.userId,personalityId:null});},100);}catch(error){console.error('Error creating conversation:',error);toast.error('Failed to create conversation');setLoading(false);setTyping(false);}}else{// Send message to existing conversation\nsocket.emit('send-message',{message:messageText,conversationId,userId:user.userId,personalityId:null});}};const formatTime=timestamp=>{return new Date(timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};if(!conversationId){return/*#__PURE__*/_jsxs(ChatContainer,{children:[/*#__PURE__*/_jsx(ChatHeader,{children:/*#__PURE__*/_jsxs(HeaderTitle,{children:[/*#__PURE__*/_jsx(FiMessageCircle,{}),\"New Chat\"]})}),/*#__PURE__*/_jsxs(WelcomeMessage,{children:[/*#__PURE__*/_jsx(WelcomeTitle,{children:\"Start a New Conversation\"}),/*#__PURE__*/_jsx(WelcomeText,{children:\"Begin chatting with your AI companion. Share your thoughts, ask questions, or just have a casual conversation. Your AI will remember your preferences and use your custom knowledge to provide personalized responses.\"})]}),/*#__PURE__*/_jsx(InputContainer,{children:/*#__PURE__*/_jsxs(InputForm,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(MessageInput,{ref:inputRef,value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Type your message here...\",rows:1,onKeyPress:e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSubmit(e);}}}),/*#__PURE__*/_jsx(SendButton,{type:\"submit\",disabled:!newMessage.trim()||loading,whileHover:{scale:1.1},whileTap:{scale:0.9},children:/*#__PURE__*/_jsx(FiSend,{})})]})})]});}return/*#__PURE__*/_jsxs(ChatContainer,{children:[/*#__PURE__*/_jsxs(ChatHeader,{children:[/*#__PURE__*/_jsxs(HeaderTitle,{children:[/*#__PURE__*/_jsx(FiMessageCircle,{}),\"Chat\"]}),/*#__PURE__*/_jsxs(NewChatButton,{onClick:createNewConversation,whileHover:{scale:1.05},whileTap:{scale:0.95},children:[/*#__PURE__*/_jsx(FiPlus,{}),\"New Chat\"]})]}),/*#__PURE__*/_jsxs(MessagesContainer,{children:[/*#__PURE__*/_jsx(AnimatePresence,{children:messages.map((message,index)=>/*#__PURE__*/_jsxs(Message,{sender:message.sender,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},children:[/*#__PURE__*/_jsx(MessageAvatar,{sender:message.sender,children:message.sender==='user'?/*#__PURE__*/_jsx(FiUser,{}):/*#__PURE__*/_jsx(FiSmartphone,{})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MessageContent,{sender:message.sender,children:message.content}),/*#__PURE__*/_jsx(MessageTime,{sender:message.sender,children:formatTime(message.timestamp)})]})]},message.id||index))}),typing&&/*#__PURE__*/_jsxs(Message,{sender:\"ai\",children:[/*#__PURE__*/_jsx(MessageAvatar,{sender:\"ai\",children:/*#__PURE__*/_jsx(FiSmartphone,{})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(TypingIndicator,{children:[\"AI is typing\",/*#__PURE__*/_jsxs(TypingDots,{children:[/*#__PURE__*/_jsx(Dot,{}),/*#__PURE__*/_jsx(Dot,{}),/*#__PURE__*/_jsx(Dot,{})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(InputContainer,{children:/*#__PURE__*/_jsxs(InputForm,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(MessageInput,{ref:inputRef,value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Type your message here...\",rows:1,onKeyPress:e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSubmit(e);}}}),/*#__PURE__*/_jsx(SendButton,{type:\"submit\",disabled:!newMessage.trim()||loading,whileHover:{scale:1.1},whileTap:{scale:0.9},children:/*#__PURE__*/_jsx(FiSend,{})})]})})]});}export default Chat;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","styled","motion","AnimatePresence","FiSend","FiPlus","FiMessageCircle","FiUser","FiSmartphone","io","axios","toast","jsx","_jsx","jsxs","_jsxs","ChatContainer","div","ChatHeader","HeaderTitle","h2","NewChatButton","button","MessagesContainer","Message","props","sender","MessageAvatar","MessageContent","MessageTime","InputContainer","InputForm","form","MessageInput","textarea","SendButton","TypingIndicator","TypingDots","Dot","WelcomeMessage","WelcomeTitle","h3","WelcomeText","p","Chat","_ref","user","conversationId","navigate","messages","setMessages","newMessage","setNewMessage","loading","setLoading","typing","setTyping","socket","setSocket","messagesEndRef","inputRef","newSocket","emit","fetchMessages","on","message","prev","error","close","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","response","get","data","console","createNewConversation","post","userId","title","handleSubmit","e","preventDefault","trim","messageText","substring","setTimeout","personalityId","formatTime","timestamp","Date","toLocaleTimeString","hour","minute","children","onSubmit","ref","value","onChange","target","placeholder","rows","onKeyPress","key","shiftKey","type","disabled","whileHover","scale","whileTap","onClick","map","index","initial","opacity","y","animate","transition","duration","content","id"],"sources":["D:/ReplikaApp/client/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  FiSend, \r\n  FiPlus, \r\n  FiMessageCircle,\r\n  FiUser,\r\n  FiSmartphone\r\n} from 'react-icons/fi';\r\nimport io from 'socket.io-client';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst ChatContainer = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n`;\r\n\r\nconst ChatHeader = styled.div`\r\n  padding: 20px 30px;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background: rgba(255, 255, 255, 0.9);\r\n`;\r\n\r\nconst HeaderTitle = styled.h2`\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nconst NewChatButton = styled(motion.button)`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 10px 20px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\r\n  }\r\n`;\r\n\r\nconst MessagesContainer = styled.div`\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 20px 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n`;\r\n\r\nconst Message = styled(motion.div)`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n  max-width: 80%;\r\n  align-self: ${props => props.sender === 'user' ? 'flex-end' : 'flex-start'};\r\n`;\r\n\r\nconst MessageAvatar = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 1.2rem;\r\n  color: white;\r\n  background: ${props => props.sender === 'user' \r\n    ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n    : 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)'\r\n  };\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst MessageContent = styled.div`\r\n  background: ${props => props.sender === 'user' \r\n    ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n    : 'rgba(255, 255, 255, 0.9)'\r\n  };\r\n  color: ${props => props.sender === 'user' ? 'white' : '#333'};\r\n  padding: 15px 20px;\r\n  border-radius: 18px;\r\n  border-bottom-right-radius: ${props => props.sender === 'user' ? '5px' : '18px'};\r\n  border-bottom-left-radius: ${props => props.sender === 'user' ? '18px' : '5px'};\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\r\n  line-height: 1.5;\r\n  word-wrap: break-word;\r\n  max-width: 100%;\r\n`;\r\n\r\nconst MessageTime = styled.div`\r\n  font-size: 0.8rem;\r\n  color: #666;\r\n  margin-top: 5px;\r\n  text-align: ${props => props.sender === 'user' ? 'right' : 'left'};\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n  padding: 20px 30px;\r\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n  background: rgba(255, 255, 255, 0.9);\r\n`;\r\n\r\nconst InputForm = styled.form`\r\n  display: flex;\r\n  gap: 15px;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst MessageInput = styled.textarea`\r\n  flex: 1;\r\n  padding: 15px 20px;\r\n  border: 2px solid #e1e5e9;\r\n  border-radius: 25px;\r\n  font-size: 1rem;\r\n  resize: none;\r\n  min-height: 50px;\r\n  max-height: 120px;\r\n  font-family: inherit;\r\n  transition: all 0.3s ease;\r\n  background: #f8f9fa;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n    background: white;\r\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n  }\r\n`;\r\n\r\nconst SendButton = styled(motion.button)`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n    box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nconst TypingIndicator = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 15px 20px;\r\n  color: #666;\r\n  font-style: italic;\r\n`;\r\n\r\nconst TypingDots = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n`;\r\n\r\nconst Dot = styled.div`\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background: #667eea;\r\n  animation: typing 1.4s infinite ease-in-out;\r\n\r\n  &:nth-child(1) { animation-delay: -0.32s; }\r\n  &:nth-child(2) { animation-delay: -0.16s; }\r\n  &:nth-child(3) { animation-delay: 0s; }\r\n\r\n  @keyframes typing {\r\n    0%, 80%, 100% {\r\n      transform: scale(0.8);\r\n      opacity: 0.5;\r\n    }\r\n    40% {\r\n      transform: scale(1);\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nconst WelcomeMessage = styled.div`\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: #666;\r\n`;\r\n\r\nconst WelcomeTitle = styled.h3`\r\n  font-size: 1.5rem;\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n`;\r\n\r\nconst WelcomeText = styled.p`\r\n  font-size: 1.1rem;\r\n  line-height: 1.6;\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nfunction Chat({ user }) {\r\n  const { conversationId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [typing, setTyping] = useState(false);\r\n  const [socket, setSocket] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Initialize socket connection\r\n    const newSocket = io('http://localhost:5000');\r\n    setSocket(newSocket);\r\n\r\n    if (conversationId) {\r\n      newSocket.emit('join-conversation', conversationId);\r\n      fetchMessages();\r\n    }\r\n\r\n    newSocket.on('new-message', (message) => {\r\n      setMessages(prev => [...prev, message]);\r\n      setTyping(false);\r\n    });\r\n\r\n    newSocket.on('error', (error) => {\r\n      toast.error(error.error);\r\n    });\r\n\r\n    return () => newSocket.close();\r\n  }, [conversationId]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const fetchMessages = async () => {\r\n    try {\r\n      const response = await axios.get(`/api/messages/${conversationId}`);\r\n      setMessages(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching messages:', error);\r\n      toast.error('Failed to load messages');\r\n    }\r\n  };\r\n\r\n  const createNewConversation = async () => {\r\n    try {\r\n      const response = await axios.post('/api/conversations', {\r\n        userId: user.userId,\r\n        title: 'New Conversation'\r\n      });\r\n      navigate(`/chat/${response.data.conversationId}`);\r\n    } catch (error) {\r\n      console.error('Error creating conversation:', error);\r\n      toast.error('Failed to create conversation');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim() || loading) return;\r\n\r\n    const messageText = newMessage.trim();\r\n    setNewMessage('');\r\n    setLoading(true);\r\n    setTyping(true);\r\n\r\n    if (!conversationId) {\r\n      // Create new conversation\r\n      try {\r\n        const response = await axios.post('/api/conversations', {\r\n          userId: user.userId,\r\n          title: messageText.substring(0, 50) + '...'\r\n        });\r\n        navigate(`/chat/${response.data.conversationId}`);\r\n        \r\n        // Send message after navigation\r\n        setTimeout(() => {\r\n          socket.emit('send-message', {\r\n            message: messageText,\r\n            conversationId: response.data.conversationId,\r\n            userId: user.userId,\r\n            personalityId: null\r\n          });\r\n        }, 100);\r\n      } catch (error) {\r\n        console.error('Error creating conversation:', error);\r\n        toast.error('Failed to create conversation');\r\n        setLoading(false);\r\n        setTyping(false);\r\n      }\r\n    } else {\r\n      // Send message to existing conversation\r\n      socket.emit('send-message', {\r\n        message: messageText,\r\n        conversationId,\r\n        userId: user.userId,\r\n        personalityId: null\r\n      });\r\n    }\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    return new Date(timestamp).toLocaleTimeString([], { \r\n      hour: '2-digit', \r\n      minute: '2-digit' \r\n    });\r\n  };\r\n\r\n  if (!conversationId) {\r\n    return (\r\n      <ChatContainer>\r\n        <ChatHeader>\r\n          <HeaderTitle>\r\n            <FiMessageCircle />\r\n            New Chat\r\n          </HeaderTitle>\r\n        </ChatHeader>\r\n        <WelcomeMessage>\r\n          <WelcomeTitle>Start a New Conversation</WelcomeTitle>\r\n          <WelcomeText>\r\n            Begin chatting with your AI companion. Share your thoughts, ask questions, \r\n            or just have a casual conversation. Your AI will remember your preferences \r\n            and use your custom knowledge to provide personalized responses.\r\n          </WelcomeText>\r\n        </WelcomeMessage>\r\n        <InputContainer>\r\n          <InputForm onSubmit={handleSubmit}>\r\n            <MessageInput\r\n              ref={inputRef}\r\n              value={newMessage}\r\n              onChange={(e) => setNewMessage(e.target.value)}\r\n              placeholder=\"Type your message here...\"\r\n              rows={1}\r\n              onKeyPress={(e) => {\r\n                if (e.key === 'Enter' && !e.shiftKey) {\r\n                  e.preventDefault();\r\n                  handleSubmit(e);\r\n                }\r\n              }}\r\n            />\r\n            <SendButton\r\n              type=\"submit\"\r\n              disabled={!newMessage.trim() || loading}\r\n              whileHover={{ scale: 1.1 }}\r\n              whileTap={{ scale: 0.9 }}\r\n            >\r\n              <FiSend />\r\n            </SendButton>\r\n          </InputForm>\r\n        </InputContainer>\r\n      </ChatContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ChatContainer>\r\n      <ChatHeader>\r\n        <HeaderTitle>\r\n          <FiMessageCircle />\r\n          Chat\r\n        </HeaderTitle>\r\n        <NewChatButton\r\n          onClick={createNewConversation}\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n        >\r\n          <FiPlus />\r\n          New Chat\r\n        </NewChatButton>\r\n      </ChatHeader>\r\n\r\n      <MessagesContainer>\r\n        <AnimatePresence>\r\n          {messages.map((message, index) => (\r\n            <Message\r\n              key={message.id || index}\r\n              sender={message.sender}\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              <MessageAvatar sender={message.sender}>\r\n                {message.sender === 'user' ? <FiUser /> : <FiSmartphone />}\r\n              </MessageAvatar>\r\n              <div>\r\n                <MessageContent sender={message.sender}>\r\n                  {message.content}\r\n                </MessageContent>\r\n                <MessageTime sender={message.sender}>\r\n                  {formatTime(message.timestamp)}\r\n                </MessageTime>\r\n              </div>\r\n            </Message>\r\n          ))}\r\n        </AnimatePresence>\r\n\r\n        {typing && (\r\n          <Message sender=\"ai\">\r\n            <MessageAvatar sender=\"ai\">\r\n              <FiSmartphone />\r\n            </MessageAvatar>\r\n            <div>\r\n              <TypingIndicator>\r\n                AI is typing\r\n                <TypingDots>\r\n                  <Dot />\r\n                  <Dot />\r\n                  <Dot />\r\n                </TypingDots>\r\n              </TypingIndicator>\r\n            </div>\r\n          </Message>\r\n        )}\r\n\r\n        <div ref={messagesEndRef} />\r\n      </MessagesContainer>\r\n\r\n      <InputContainer>\r\n        <InputForm onSubmit={handleSubmit}>\r\n          <MessageInput\r\n            ref={inputRef}\r\n            value={newMessage}\r\n            onChange={(e) => setNewMessage(e.target.value)}\r\n            placeholder=\"Type your message here...\"\r\n            rows={1}\r\n            onKeyPress={(e) => {\r\n              if (e.key === 'Enter' && !e.shiftKey) {\r\n                e.preventDefault();\r\n                handleSubmit(e);\r\n              }\r\n            }}\r\n          />\r\n          <SendButton\r\n            type=\"submit\"\r\n            disabled={!newMessage.trim() || loading}\r\n            whileHover={{ scale: 1.1 }}\r\n            whileTap={{ scale: 0.9 }}\r\n          >\r\n            <FiSend />\r\n          </SendButton>\r\n        </InputForm>\r\n      </InputContainer>\r\n    </ChatContainer>\r\n  );\r\n}\r\n\r\nexport default Chat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}