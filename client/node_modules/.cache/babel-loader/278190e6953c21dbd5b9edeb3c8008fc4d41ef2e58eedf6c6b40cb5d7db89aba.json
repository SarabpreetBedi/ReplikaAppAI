{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import styled from'styled-components';import Login from'./components/Login';import Register from'./components/Register';import Dashboard from'./components/Dashboard';import Chat from'./components/Chat';import KnowledgeBase from'./components/KnowledgeBase';import Personality from'./components/Personality';import Sidebar from'./components/Sidebar';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AppContainer=styled.div`\n  min-height: 100vh;\n  display: flex;\n`;const MainContent=styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;const AuthContainer=styled.div`\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n`;function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{// Check if user is logged in\nconst token=localStorage.getItem('token');const userData=localStorage.getItem('user');if(token&&userData){setUser(JSON.parse(userData));}setLoading(false);},[]);const handleLogin=(userData,token)=>{setUser(userData);localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(userData));};const handleLogout=()=>{setUser(null);localStorage.removeItem('token');localStorage.removeItem('user');};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{height:'100vh',display:'flex',alignItems:'center',justifyContent:'center',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(!user){return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(AuthContainer,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"})]});}return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(AppContainer,{children:[/*#__PURE__*/_jsx(Sidebar,{user:user,onLogout:handleLogout}),/*#__PURE__*/_jsx(MainContent,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/chat/:conversationId?\",element:/*#__PURE__*/_jsx(Chat,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/knowledge\",element:/*#__PURE__*/_jsx(KnowledgeBase,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/personality\",element:/*#__PURE__*/_jsx(Personality,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Toaster","styled","Login","Register","Dashboard","Chat","KnowledgeBase","Personality","Sidebar","jsx","_jsx","jsxs","_jsxs","AppContainer","div","MainContent","AuthContainer","App","user","setUser","loading","setLoading","token","localStorage","getItem","userData","JSON","parse","handleLogin","setItem","stringify","handleLogout","removeItem","style","height","display","alignItems","justifyContent","background","children","className","path","element","onLogin","to","replace","position","onLogout"],"sources":["D:/ReplikaApp/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { Toaster } from 'react-hot-toast';\r\nimport styled from 'styled-components';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Dashboard from './components/Dashboard';\r\nimport Chat from './components/Chat';\r\nimport KnowledgeBase from './components/KnowledgeBase';\r\nimport Personality from './components/Personality';\r\nimport Sidebar from './components/Sidebar';\r\n\r\nconst AppContainer = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n`;\r\n\r\nconst MainContent = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst AuthContainer = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 20px;\r\n`;\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Check if user is logged in\r\n    const token = localStorage.getItem('token');\r\n    const userData = localStorage.getItem('user');\r\n    \r\n    if (token && userData) {\r\n      setUser(JSON.parse(userData));\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const handleLogin = (userData, token) => {\r\n    setUser(userData);\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('user', JSON.stringify(userData));\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ \r\n        height: '100vh', \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        justifyContent: 'center',\r\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n      }}>\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <Router>\r\n        <AuthContainer>\r\n          <Routes>\r\n            <Route path=\"/login\" element={<Login onLogin={handleLogin} />} />\r\n            <Route path=\"/register\" element={<Register onLogin={handleLogin} />} />\r\n            <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\r\n          </Routes>\r\n        </AuthContainer>\r\n        <Toaster position=\"top-right\" />\r\n      </Router>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <AppContainer>\r\n        <Sidebar user={user} onLogout={handleLogout} />\r\n        <MainContent>\r\n          <Routes>\r\n            <Route path=\"/\" element={<Dashboard user={user} />} />\r\n            <Route path=\"/chat/:conversationId?\" element={<Chat user={user} />} />\r\n            <Route path=\"/knowledge\" element={<KnowledgeBase user={user} />} />\r\n            <Route path=\"/personality\" element={<Personality user={user} />} />\r\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n          </Routes>\r\n        </MainContent>\r\n      </AppContainer>\r\n      <Toaster position=\"top-right\" />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}